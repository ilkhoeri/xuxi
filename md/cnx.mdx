---
title: cnx
date: 2025-05-05
---

# **cnx**

The `cnx` function is a utility to dynamically combine string class names based on various input types, such as strings, numbers, objects, arrays, or functions.
This function combines various input types and simplifies complex management by producing clean and valid strings.
Useful for dynamically managing string classes in JavaScript or TypeScript applications.

## Syntax

```ts
function cnx(...args: cnxValues[]): string;
```

## How cnx works:

1. **Initialization:** <br />
   An empty array (classes) is used to store valid strings.

2. **Input Iteration:** <br />
   Each item in the `...args` parameter (spread operator) is processed with the following logic: <br />

- String or Number: <br />
  Immediately converted to a string and inserted into the array.
- Array: <br />
  Processed recursively using `cnx(...args)` to support nested structures.
- Object: <br />
  Iterate over the keys and values ​​(key-value pairs). If the value is "truthy" (e.g., `true`), the key (class name) is added to the array.
- Function: <br />
  The function is called, and the result is processed recursively using cnx.
- Null, Undefined, or Boolean: <br />
  Ignored, passed without processing.

3. **Output:** <br />
   The collected classes are combined into a space-separated string.

## Example Usage

```ts
// allows receiving Arrays, Objects and Functions
cnx(['', baz, (foo as string) !== 'foo' && bar], { '': !props }, '', () => ({ '' }), undefined, [{ '' }, () => ({ '' })]);
```

### Basic Merging

```ts
cnx("hello", "world"); // "hello world"

cnx(() => "there", "dynamic"); // "there dynamic"

cnx(["extra", 0, false, "bar"]); // "extra bar"

cnx("hello", true && "foo", false && "bar"); // "hello foo"
```

### Complex Merging

```ts
cnx(["foo"], ["", 0, false, "bar"], [["baz", [["hello"], "there"]]]);
// "foo bar baz hello there"

cnx("foo", [1 && "bar", { baz: false, bat: null }, ["hello", ["world"]]], "cya");
// "foo bar hello world cya"

cnx("foo", { primary: true, disabled: false }, ["extra", null, undefined], () => "dynamic");
// "foo primary extra dynamic"

cnx([{ color: "red", fontSize: "16px" }, () => ({ backgroundColor: "blue" }), undefined, [{ margin: "10px" }, () => ({ padding: "5px" })]]);
// "color fontSize backgroundColor margin padding"
```

### Ignored Falsy

```ts
cnx(Boolean, Object, undefined, null, "", 0, NaN);
// ""
```

## Advantages

- Makes it easier to manage dynamic CSS classes.
- Logic wrangling of class merging in code.
- Useful in frameworks like React, Vue, or Svelte for changing class conditions.

---

## Merge class tailwind-merge

```ts
import { cnx, type cnxValues } from "xuxi";
import { twMerge } from "tailwind-merge";

export function cn(...args: cnxValues[]): string | undefined {
  if (!args) return;
  return twMerge(cnx(...args));
}
```

```ts
cn("bg-black dark:bg-white font-normal", { "font-medium": true });
// bg-black dark:bg-white font-medium
```

## IntelliSense

If you are using the vscode editor, enable autocomplete for the [`tailwindcss`](https://tailwindcss.com/docs/editor-setup#intelli-sense-for-vs-code) class using the following command:

1. Install the [`Tailwind CSS IntelliSense`](https://marketplace.visualstudio.com/items?itemName=bradlc.vscode-tailwindcss) Visual Studio Code extension
2. Add to your [`settings.json`](https://code.visualstudio.com/docs/getstarted/settings):

```json
"tailwindCSS.experimental.classRegex": [
  ["cnx\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
  ["cn\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
  ["merge\\(([^)]*)\\)", "(?:'|\"|`)([^']*)(?:'|\"|`)"],
],
```

3. Add config to your [eslint.config.js](https://eslint.org/docs/latest/use/configure/configuration-files) to [eslint-plugin-tailwindcss](https://www.npmjs.com/package/eslint-plugin-tailwindcss) configuration

```js
export default [
  {
    extends: ["prettier", "plugin:tailwindcss/recommended"],
    plugins: ["tailwindcss"],
    ignorePatterns: [],
    rules: {},
    settings: {
      tailwindcss: {
        callees: ["cnx", "cn"],
        config: "tailwind.config.ts"
      }
    },
    overrides: []
  }
];
```
